define(function(require,exports,module){var a={config:{api:{home:"/api/goods_type",goods_list:"/api/goods_list",search:"/api/search",filter:"/api/filter",detail:"/api/goods_detail",promoteGroup:"/api/goods_promoteGroup",quality:"/api/goods_quality"}},init:function(){require.async("router",a.setRouter)},setRouter:function(){var e=new Router({container:"#app",enter:"enter",leave:"leave",enterTimeout:250,leaveTimeout:250}),r={url:"/",render:function(e){e.loadingDelay=10,a.renderModule("home",e)},bind:function(){require.async("app/goods_type",function(a){a.init()})}},t={url:"/list/:params?",render:function(e){var r=M.url.getParams(this.params.params),t=$.extend(JSON.parse(localStorage.getItem(CONST.local_search_params)),r);a.renderModule("goods_list",e,t)},bind:function(){var a=$(this);require.async("app/goods_list",function(e){e.init(a)})}},n={url:"/search/:keywords?",render:function(e){var r=this.params;r.historyWords=JSON.parse(localStorage.getItem(CONST.local_search_history))||[],a.renderModule("search",e,r)},bind:function(){var a=$(this);require.async("app/search",function(e){e.init(a)})}},o={url:"/filter/:params?",render:function(e){var r=M.url.getParams(this.params.params);a.renderModule("filter",e,r)},bind:function(){require.async("app/filter",function(a){a.init()})}},i={url:"/detail/:params?",render:function(e){var r=M.url.getParams(this.params.params),t=JSON.parse(localStorage.getItem(CONST.local_detail_location));i.params=r,t&&(i.params.location=t),a.renderModule("detail",e,i.params)},bind:function(){var a=$(this);a.find(".u-null-all")[0]||require.async("app/goods_detail",function(e){e.init(a,i.params)})}},l={url:"/promoteGroup/:styleNumId?",render:function(e){var r=this.params,t=JSON.parse(localStorage.getItem(CONST.local_detail_location));t&&(r.areaId=t.areaId,r.lat=t.lat,r.lng=t.lng),a.renderModule("promoteGroup",e,r)},bind:function(){require.async("app/goods_promote",function(a){a.init()})}},s={url:"/quality/:templateId",render:function(e){var r=this.params,t=JSON.parse(localStorage.getItem(CONST.local_qualityPic))||{},n=r.templateId,o=t[n];a.renderModule("quality",e,o)},bind:function(){}};e.push(r).push(t).push(n).push(o).push(i).push(l).push(s).setDefault("/").init()},renderModule:function(module,e,r){var t=require("app/renderSPA");t(a.config.api[module],e,r)}};a.init()});