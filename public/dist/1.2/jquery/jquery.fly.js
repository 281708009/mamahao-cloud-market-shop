!function($){$.fly=function(t,e){var i={version:"1.0.0",autoPlay:!0,vertex_Rtop:20,speed:1.2,start:{},end:{},onEnd:$.noop},n=this,o=$(t);n.init=function(t){this.setOptions(t),!!this.settings.autoPlay&&this.play()},n.setOptions=function(t){this.settings=$.extend(!0,{},i,t);var e=this.settings,n=e.start,h=e.end;o.css({marginTop:"0px",marginLeft:"0px",position:"fixed"}).appendTo("body"),null!=h.width&&null!=h.height&&$.extend(!0,n,{width:o.width(),height:o.height()});var a=Math.min(n.top,h.top)-Math.abs(n.left-h.left)/3;a<e.vertex_Rtop&&(a=Math.min(e.vertex_Rtop,Math.min(n.top,h.top)));var s=Math.sqrt(Math.pow(n.top-h.top,2)+Math.pow(n.left-h.left,2)),p=Math.ceil(Math.min(Math.max(Math.log(s)/.05-75,30),100)/e.speed),r=n.top==a?0:-Math.sqrt((h.top-a)/(n.top-a)),l=(r*n.left-h.left)/(r-1),f=h.left==l?0:(h.top-a)/Math.pow(h.left-l,2);$.extend(!0,e,{count:-1,steps:p,vertex_left:l,vertex_top:a,curvature:f})},n.play=function(){this.move()},n.move=function(){var t=this.settings,e=t.start,i=t.count,n=t.steps,h=t.end,a=e.left+(h.left-e.left)*i/n,s=0==t.curvature?e.top+(h.top-e.top)*i/n:t.curvature*Math.pow(a-t.vertex_left,2)+t.vertex_top;if(null!=h.width&&null!=h.height){var p=n/2,r=h.width-(h.width-e.width)*Math.cos(i<p?0:(i-p)/(n-p)*Math.PI/2),l=h.height-(h.height-e.height)*Math.cos(i<p?0:(i-p)/(n-p)*Math.PI/2);o.css({width:r+"px",height:l+"px","font-size":Math.min(r,l)+"px"})}o.css({left:a+"px",top:s+"px"}),t.count++;var f=window.requestAnimationFrame($.proxy(this.move,this));i==n&&(window.cancelAnimationFrame(f),t.onEnd.apply(this))},n.destroy=function(){o.remove()},n.init(e)},$.fn.fly=function(t){return this.each(function(){void 0==$(this).data("fly")&&$(this).data("fly",new $.fly(this,t))})}}(jQuery);