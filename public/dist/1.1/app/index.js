define(function(require,exports,module){var n={config:{},init:function(){if($("#js-swiper-home li").length>1){new Swiper("#js-swiper-home",{autoplay:3e3,loop:!0,pagination:".swiper-pagination",paginationClickable:!0})}M.lazyLoad.init({threshold:400,failure_limit:300,container:$("main.main, .m-home .hang ol")}),n.bindEvents(),n.setBeans()},bindEvents:function(){M.dropLoad({callback:function(n){setTimeout(function(){console.log("end"),n.pullToRefreshDone()},1e3)}}),window.onload=function(){$.pagination({scrollBox:".container",api:"/test/request",container:".container .floor-list",fnSuccess:function(n,a){console.log(JSON.stringify(n)),a.data("locked",!0)}})}},setBeans:function(){var n=$(".js-link-type-5");n.each(function(){var n=$(this),a=n.data("json"),e=Number(a.buyBeginTime),i=Number(a.buyEndTime),t=Number(a.currentTime),o=a.stock;o>0&&e>t?n.append('<ol class="time"><li class="hour"></li><li class="minute"></li><li class="second"></li></ol>').timeCountDown({startDate:t,endDate:e,callback:function(){n.append('<span class="start">正在抢购中...</span>'),n.find("ol.time").remove(),n.timeCountDown({startDate:e,endDate:i,callback:function(){n.append('<span class="end">抢购已结束</span>').find("span.start").remove()}})}}):o>0&&e<=t&&t<=i?(n.append('<span class="start">正在抢购中...</span>'),n.timeCountDown({startDate:t,endDate:i,callback:function(){n.append('<span class="end">抢购已结束</span>').find("span.start").remove()}})):n.append('<span class="end">抢购已结束</span>')})}};n.init()});