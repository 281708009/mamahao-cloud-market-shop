define(function(require,exports,module){function a(a){this.params=a}module.exports=a,a.prototype.render=function(){var a=this;require("AMap"),a.bind()},a.prototype.bind=function(){var a=this,n=a.params,t=$("#app"),e=$("#result"),i=$("#keywords");i.on("input",function(){var a=$.trim($(this).val());return!!a&&void AMap.service(["AMap.PlaceSearch"],function(){var t=new AMap.PlaceSearch({pageSize:20,pageIndex:1,city:n.areaId});a&&n.province&&(n.province=decodeURIComponent(n.province),a=n.province+a),t.search(a,function(a,n){if(e.empty(),"complete"==a){var t=0,i=n.poiList.pois||[];for(t;t<i.length;t++){var o=$("<li><dl><dt>"+i[t].name+"</dt><dd>"+i[t].address+"</dd></dl></li>").data({gps:i[t].name,lng:i[t].location.lng,lat:i[t].location.lat,address:i[t].address});e.append(o)}}})})}),e.on("click","li",function(){var a=$(this),n=t.data("data")||{},e=a.data();n.gpsAddr=e.gps,n.lat=e.lat,n.lng=e.lng,t.data("data",n),window.history.go(-1)}),$(".u-alert del").on("click",function(){$(".u-alert").slideUp()})}});