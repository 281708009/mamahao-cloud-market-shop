define(function(require,exports,module){var n={config:{},init:function(){$(".ui-swipe li").length>1&&M.swipe.init({continuous:!0,auto:3e3}),M.lazyLoad.init({threshold:400,failure_limit:300,container:$("main.main, .m-home .hang ol")}),n.bindEvents(),n.setBeans()},bindEvents:function(){M.dropLoad({callback:function(n){setTimeout(function(){console.log("end"),n.pullToRefreshDone()},1e3)}}),window.onload=function(){$.pagination({scrollBox:".container",api:"/test/request",container:".container .floor-list",fnSuccess:function(n,a){console.log(JSON.stringify(n)),a.data("locked",!0)}})}},setBeans:function(){var n=$(".js-link-type-5");n.each(function(){var n=$(this),a=n.data("json"),e=Number(a.buyBeginTime),t=Number(a.buyEndTime),i=Number(a.currentTime),s=a.stock;s>0&&e>i?n.append('<ol class="time"><li class="hour"></li><li class="minute"></li><li class="second"></li></ol>').timeCountDown({startDate:i,endDate:e,callback:function(){n.append('<span class="start">正在抢购中...</span>'),n.find("ol.time").remove(),n.timeCountDown({startDate:e,endDate:t,callback:function(){n.append('<span class="end">抢购已结束</span>').find("span.start").remove()}})}}):s>0&&e<=i&&i<=t?(n.append('<span class="start">正在抢购中...</span>'),n.timeCountDown({startDate:i,endDate:t,callback:function(){n.append('<span class="end">抢购已结束</span>').find("span.start").remove()}})):n.append('<span class="end">抢购已结束</span>')})}};n.init()});