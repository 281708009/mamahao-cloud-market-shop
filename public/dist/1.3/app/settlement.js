define(function(require,exports,module){var e={config:{params:M.url.params(),api:{index:"/api/inspectSettlement",checkout:"/api/settlement"}},init:function(){require.async("router",e.setRouter)},setRouter:function(){var r=new Router({container:"#app",enter:"enter",leave:"leave",enterTimeout:250,leaveTimeout:250}),a={url:"/selection/:params?",render:function(r){r.loadingDelay=10,this.params.queryType&&(this.params.queryType=+this.params.queryType);var a={};if(this.params.params){var t=M.url.getParams(this.params.params);if(!$.isEmptyObject(t)){if(t.jsonTerm){var i=JSON.parse(t.jsonTerm);a.jsonTerm=i,a.inlet=t.inlet}a.vip=t.vip?1:0}}var n=localStorage.getItem(CONST.local_settlement_addr);n=JSON.parse(n),n&&(a.deliveryAddrId=n.deliveryAddrId),e.renderModule("index",r,a)},bind:function(){require.async("app/settlement_selection",function(e){e.init()})}},t={url:"/checkout/:params?",render:function(r){this.params.queryType&&(this.params.queryType=+this.params.queryType);var a={};if(this.params.params){var t=M.url.getParams(this.params.params);if(!$.isEmptyObject(t)){if(t.jsonTerm){var i=JSON.parse(t.jsonTerm);a.jsonTerm=i,a.inlet=t.inlet}if(a.vip=t.vip?1:0,t.deliveryAddrId)a.deliveryAddrId=t.deliveryAddrId;else{var n=localStorage.getItem(CONST.local_settlement_addr);n=JSON.parse(n),n&&(a.deliveryAddrId=n.deliveryAddrId)}}}else{var n=localStorage.getItem(CONST.local_settlement_addr);n=JSON.parse(n),n&&(a.deliveryAddrId=n.deliveryAddrId)}e.renderModule("checkout",r,a)},bind:function(){var r=$(this);require.async("app/settlement_checkout",function(a){new a(e,r).render()})}};r.push(a).push(t).setDefault("/selection").init()},renderModule:function(module,r,a){var t=require("app/renderSPA");t(e.config.api[module],r,a)}};e.init()});